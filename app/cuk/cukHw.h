/*
 * cukHw.h
 *
 */

#ifndef CUK_HW_H_
#define CUK_HW_H_

//=============================================================================
/*-------------------------------- Includes ---------------------------------*/
//=============================================================================
#include "stdint.h"
//=============================================================================

//=============================================================================
/*------------------------------- Definitions -------------------------------*/
//=============================================================================

typedef void (*cukHwAdcIrqHandle_t)(void *ref);

typedef struct{

    void *intc;
    cukHwAdcIrqHandle_t irqhandle;

}cukHwInitConfig_t;

typedef struct{
    float i_i_gain;
    float i_i_ofs;

    float i_1_gain;
    float i_1_ofs;

    float v_in_gain;
    float v_in_ofs;

    float v_dc_gain;
    float v_dc_ofs;

    float v_1_gain;
    float v_1_ofs;

    float i_o_gain;
    float i_o_ofs;

    float i_2_gain;
    float i_2_ofs;

    float v_out_gain;
    float v_out_ofs;

    float v_dc_out_gain;
    float v_dc_out_ofs;

    float v_2_gain;
    float v_2_ofs;
}cukHwMeasGains_t;
//=============================================================================

//=============================================================================
/*-------------------------------- Functions --------------------------------*/
//=============================================================================
//-----------------------------------------------------------------------------
int32_t cukHwInitialize(cukHwInitConfig_t *config);
//-----------------------------------------------------------------------------
int32_t cukHwStatus(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmReset(uint32_t reset);
//-----------------------------------------------------------------------------
uint32_t cukHwGetPwmReset(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmOutputEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t cukHwGetPwmOutputEnable(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmOvfTriggerEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t cukHwGetPwmOvfTriggerEnable(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmFrequency(uint32_t freq);
//-----------------------------------------------------------------------------
uint32_t cukHwGetPwmFrequency(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmDuty(float duty);
//-----------------------------------------------------------------------------
float cukHwGetPwmDuty(void);
//-----------------------------------------------------------------------------
void cukHwSetPwmDeadTime(float deadtime);
//-----------------------------------------------------------------------------
float cukHwGetPwmDeadTime(void);
//-----------------------------------------------------------------------------
void cukHwSetAdcEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t cukHwGetAdcEnable(void);
//-----------------------------------------------------------------------------
void cukHwSetAdcManualTrigger(uint32_t trigger);
//-----------------------------------------------------------------------------
uint32_t cukHwGetAdcManualTrigger(void);
//-----------------------------------------------------------------------------
void cukHwSetAdcInterruptEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t cukHwGetAdcInterruptEnable(void);
//-----------------------------------------------------------------------------
void cukHwSetAdcSpiFreq(uint32_t freq);
//-----------------------------------------------------------------------------
uint32_t cukHwGetAdcSpiFreq(void);
//-----------------------------------------------------------------------------
int32_t cukHwGetMeasurements(void *meas);
//-----------------------------------------------------------------------------
int32_t cukHwApplyOutputs(void *outputs, int32_t size);
//-----------------------------------------------------------------------------
void cukHwDisable(void);
//-----------------------------------------------------------------------------
void cukHwEnable(void);
//-----------------------------------------------------------------------------
void cukHwControllerDisable(void);
//-----------------------------------------------------------------------------
void cukHwControllerEnable(void);
//-----------------------------------------------------------------------------
void cukHwSetLoadSwitch(uint32_t state);
//-----------------------------------------------------------------------------
uint32_t cukHwGetLoadSwitch(void);
//-----------------------------------------------------------------------------
void cukHwSetOutputSwitch(uint32_t state);
//-----------------------------------------------------------------------------
uint32_t cukHwGetOutputSwitch(void);
//-----------------------------------------------------------------------------
void cukHwSetMeasGains(cukHwMeasGains_t *gains);
//-----------------------------------------------------------------------------
uint32_t cukHwGetMeasGains(cukHwMeasGains_t *gains);
//-----------------------------------------------------------------------------
//=============================================================================

#endif /* CUK_HW_H_ */
