/*
 * @file afe.h
 *
 */

#ifndef AFE_H_
#define AFE_H_

#ifdef SOC_CPU1
//=============================================================================
/*-------------------------------- Includes ---------------------------------*/
//=============================================================================
#include "stdint.h"
#include "stddef.h"

//=============================================================================

//=============================================================================
/*------------------------------- Definitions -------------------------------*/
//=============================================================================

#define AFE_ERR_DCLINK_OVER				(1 << 0)
#define AFE_ERR_DCLINK_UNDER			(1 << 1)

#define AFE_ERR_HB_CURRENT_OVER			(1 << 2)
#define AFE_ERR_HB_CURRENT_UNDER		(1 << 3)

#define AFE_ERR_GRID_VOLTAGE_OVER		(1 << 4)
#define AFE_ERR_GRID_VOLTAGE_UNDER		(1 << 5)

#define AFE_ERR_LOAD_CURRENT_OVER		(1 << 6)
#define AFE_ERR_LOAD_CURRENT_UNDER		(1 << 7)

#define AFE_HB_CURRENT_MAX				25.0
#define AFE_HB_CURRENT_MIN				-25.0

#define AFE_DC_LINK_MAX					300.0
#define AFE_DC_LINK_MIN					2.0
#define AFE_DC_LINK_PRECHARGE			8.0

#define AFE_GRID_VOLTAGE_MAX			35.0
#define AFE_GRID_VOLTAGE_MIN			-35.0

#define AFE_LOAD_CURRENT_MAX			10.0
#define AFE_LOAD_CURRENT_MIN			-1.0

//=============================================================================

//=============================================================================
/*-------------------------------- Functions --------------------------------*/
//=============================================================================
//-----------------------------------------------------------------------------
int32_t afeInitialize(void *initparams);
//-----------------------------------------------------------------------------
int32_t afeAdcEnable(uint32_t enable);
//-----------------------------------------------------------------------------
int32_t afeAdcConfig(void *adcparams);
//-----------------------------------------------------------------------------
int32_t afePwmEnable(uint32_t enable);
//-----------------------------------------------------------------------------
int32_t afePwmSetDuty(uint32_t duty);
//-----------------------------------------------------------------------------
int32_t afePwmConfig(void *pwmparams);
//-----------------------------------------------------------------------------
void afeInputRelaySet(uint32_t state);
//-----------------------------------------------------------------------------
void afeOutputRelaySet(uint32_t state);
//-----------------------------------------------------------------------------
//=============================================================================
#endif /* SOC_CPU1 */

#endif /* AFE_H_ */
